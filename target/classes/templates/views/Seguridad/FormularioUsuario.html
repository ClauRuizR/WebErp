<html class="no-js" xmlns:th="http://www.thymeleaf.org">
<head>


</head>
<body>
<div th:fragment="content">
    <div class="notifications top-rigth"></div>
    <div id="page-content" ng-controller="usuarioEditController">
        <input  hidden="hidden" th:attr="ng-init='id=\''+${id}+'\''"></input>
        <div class="content-header" ng-init="init()">
            <ul class="nav-horizontal text-center">
                <!-- 	<li class="active"><a href="javascript:void(0)"><i
                        class="fa fa-home"></i> Home</a></li> -->
            </ul>

            <!-- 			<th:if test="${msg is not empty">
                <div class="alert alert-success">
                    <strong th:text="${msg}"/>

                </div>

            </th:if> -->
            <div class="header-section">
                <h1>
                    Formulario de Usuario
                    <!-- <i class="gi gi-table">Formulario de clientes</i><br> -->
                </h1>
            </div>
            <div class="row">
                <form id="formUsuario" class="form-horizontal form-bordered">
                    <input type="hidden" ng-model="usuario.id" /> <input
                        type="hidden" ng-model="usuario.version" />
                    <div class="col-md-12">
                        <!-- Basic Form Elements Block -->
                        <div class="block" style="margin-left: 20px !important;">
                            <!-- Basic Form Elements Title -->
                            <div class="block-title">
                                <div class="block-options pull-right"></div>
                                <h2>
                                    <strong>Datos B&aacute;sicos </strong>
                                </h2>
                            </div>

                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-3 control-label">Nombre</label>
                                    <div class="col-md-9">
                                        <input type="text" id="example-text-input-1"
                                               name="example-text-input" class="form-control"
                                               ng-model="usuario.nombre" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-md-3 control-label">Usuario</label>
                                    <div class="col-md-9">
                                        <input type="text" id="example-text-input-1"
                                               name="example-text-input" class="form-control"
                                               ng-model="usuario.usuario" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 control-label">Email</label>
                                    <div class="col-md-9">
                                        <input type="text" id="example-text-input-1"
                                               name="example-text-input" class="form-control"
                                               ng-model="usuario.email" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-md-3 control-label">Contrase√±a</label>
                                    <div class="col-md-9">
                                        <input type="password" id="example-text-input-1"
                                               name="example-text-input" class="form-control"
                                               ng-model="usuario.clave" />
                                    </div>
                                </div>


                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="estado">Estado</label>
                                    <div class="col-md-9">
                                        <select id="estado" name="estado" class="form-control"
                                                size="1" ng-model="usuario.estado"
                                                ng-options="estado.value as estado.name for estado in estados">
                                            <option value="">Seleccione...</option>
                                        </select>
                                    </div>
                                </div>
                            </div>


                            <div class="block">
                                <!-- Table Styles Title -->
                                <div class="block-title"></div>
                                <div class="table-options clearfix">
                                    <div class="btn-group btn-group-sm pull-left"></div>
                                </div>
                                <div class="block-title">
                                    <h2>
                                        <strong>Roles</strong>
                                    </h2>
                                </div>
                                <div class="form-horizontal form-bordered">


                                    <button name="agregarRol"
                                            class="btn btn-alt btn-sm btn-success"
                                            ng-click="addRol()">

                                        <i class="hi hi-plus-sign"></i> Agregar Rol
                                    </button>

                                    <table class="table table-striped table-vcenter"
                                           id="detalleTipoServicio">
                                        <thead>
                                        <tr>

                                            <th class="text-center">Rol</th>

                                            <th class="text-center"></th>
                                            <th class="text-center"></th>
                                            <th class="text-center"></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr ng-repeat="userRol in usuario.usuarioRol ">


                                            <td id="tdfacturaid" class="text-center">
                                                <div class="form-group has-error">
                                                    <select
                                                            ng-model="userRol.rol"
                                                            chosen=""
                                      options="listaRoles"  ng-options="estado.rol for estado in listaRoles track by estado.rol">
                                                        <option>Seleccione...</option>
                                                    </select>
                                                </div>
                                            </td>


                                            <td>
                                                <button name="quitarContacto"
                                                        class="fa fa-trash btn btn-danger"
                                                        ng-click="userRol.estado='0'"
                                                ></button>
                                            </td>
                                            <td class="text-center" hidden="hidden">
                                                <div class="form-group">
                                                    <input class="form-control" value="1"
                                                           ng-model="userRol.estado"
                                                    ></input>

                                                </div>
                                            </td>
                                            <td class="text-center" hidden="hidden">
                                                <div class="form-group">
                                                    <input class="form-control" value="1"
                                                           ng-model="userRol.version"
                                                    ></input>

                                                </div>
                                            </td>


                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>


                            <div class="block-title">
                                <div class="block-options pull-right"></div>
                                <div class="form-group form-actions"
                                     style="margin-left: 20px !important;">
                                    <div class="col-md-9 col-md-offset-3">
                                        <button id="guardar" type="submit"

                                                ng-click="saveUsuario(usuario)"

                                                class="btn btn-alt btn-sm btn-primary">
                                            <i class="fa fa-angle-right"></i>Guardar
                                        </button>

                                        <a class="btn btn-alt btn-sm btn-default"

                                           th:href="@{/usuarios/crear}">Agregar Otro</a>

                                        <a class="btn btn-alt btn-sm btn-default"
                                           th:href="@{/usuarios}"><i class="gi gi-exit"></i> Salir</a>
                                        <a class="btn btn-alt btn-sm btn-default" onclick="goBack()"><i
                                                class="gi gi-exit"></i> Regresar</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>